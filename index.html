<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barbearia do Zeka - Agendamento</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#1e3a8a',
                        secondary: '#f59e0b',
                    }
                }
            }
        }
    </script>
    <style>
        .calendar-day {
            transition: all 0.2s ease;
        }
        .calendar-day:hover:not(.disabled) {
            transform: scale(1.05);
            background-color: #fbbf24;
        }
        .selected {
            background-color: #1e3a8a;
            color: white;
        }
        .disabled {
            color: #9ca3af;
            cursor: not-allowed;
        }
        /* Melhorias para dispositivos móveis */
        @media (max-width: 768px) {
            .mobile-menu {
                display: none;
            }
            .mobile-menu.active {
                display: block;
            }
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <!-- Header -->
    <header class="bg-white shadow-sm">
        <div class="container mx-auto px-4 py-6 flex justify-between items-center">
            <div class="flex items-center">
                <i class="fas fa-cut text-secondary text-2xl mr-3"></i>
                <h1 class="text-2xl font-bold text-primary">Barbearia do Zeka</h1>
            </div>
            <nav class="hidden md:block">
                <ul class="flex space-x-6">
                    <li><a href="#" class="text-gray-600 hover:text-primary">Início</a></li>
                    <li><a href="#" class="text-gray-600 hover:text-primary">Serviços</a></li>
                    <li><a href="#" class="text-gray-600 hover:text-primary">Galeria</a></li>
                    <li><a href="#" class="text-gray-600 hover:text-primary">Contato</a></li>
                </ul>
            </nav>
            <button id="mobile-menu-button" class="md:hidden text-gray-600">
                <i class="fas fa-bars text-xl"></i>
            </button>
        </div>
        <!-- Menu móvel -->
        <div id="mobile-menu" class="mobile-menu md:hidden bg-white border-t border-gray-200">
            <ul class="py-2">
                <li><a href="#" class="block px-4 py-2 text-gray-600 hover:bg-gray-100">Início</a></li>
                <li><a href="#" class="block px-4 py-2 text-gray-600 hover:bg-gray-100">Serviços</a></li>
                <li><a href="#" class="block px-4 py-2 text-gray-600 hover:bg-gray-100">Galeria</a></li>
                <li><a href="#" class="block px-4 py-2 text-gray-600 hover:bg-gray-100">Contato</a></li>
            </ul>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8">
        <div class="max-w-4xl mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">Agende seu Horário</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">Escolha uma data e horário disponíveis para seu corte ou tratamento. Processo rápido e fácil.</p>
            </div>

            <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                <div class="md:flex">
                    <!-- Calendário -->
                    <div class="md:w-1/2 p-6 border-r border-gray-100">
                        <div class="mb-6">
                            <h3 class="text-xl font-semibold text-gray-800 mb-2">Selecione uma data</h3>
                            <div class="flex justify-between items-center mb-4">
                                <button id="prev-month" class="text-gray-500 hover:text-primary p-2 rounded-full hover:bg-gray-100" aria-label="Mês anterior">
                                    <i class="fas fa-chevron-left"></i>
                                </button>
                                <h4 id="current-month" class="text-lg font-medium text-gray-700">Junho 2023</h4>
                                <button id="next-month" class="text-gray-500 hover:text-primary p-2 rounded-full hover:bg-gray-100" aria-label="Próximo mês">
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                            </div>
                            <div id="calendar" class="grid grid-cols-7 gap-2" role="grid" aria-label="Calendário">
                                <!-- Dias da semana -->
                                <div class="text-center font-medium text-gray-500 py-2" role="columnheader">Dom</div>
                                <div class="text-center font-medium text-gray-500 py-2" role="columnheader">Seg</div>
                                <div class="text-center font-medium text-gray-500 py-2" role="columnheader">Ter</div>
                                <div class="text-center font-medium text-gray-500 py-2" role="columnheader">Qua</div>
                                <div class="text-center font-medium text-gray-500 py-2" role="columnheader">Qui</div>
                                <div class="text-center font-medium text-gray-500 py-2" role="columnheader">Sex</div>
                                <div class="text-center font-medium text-gray-500 py-2" role="columnheader">Sáb</div>
                                
                                <!-- Dias do mês serão preenchidos via JavaScript -->
                            </div>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-semibold text-gray-800 mb-2">Horários disponíveis</h3>
                            <div id="time-slots" class="grid grid-cols-2 md:grid-cols-3 gap-2">
                                <!-- Horários serão preenchidos via JavaScript -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Formulário -->
                    <div class="md:w-1/2 p-6">
                        <h3 class="text-xl font-semibold text-gray-800 mb-6">Seus dados</h3>
                        <form id="booking-form">
                            <div class="mb-4">
                                <label for="name" class="block text-gray-700 mb-2">Nome completo</label>
                                <input type="text" id="name" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="Seu nome completo" required>
                                <div id="name-error" class="text-red-500 text-sm mt-1 hidden">Por favor, insira seu nome completo</div>
                            </div>
                            
                            <div class="mb-4">
                                <label for="phone" class="block text-gray-700 mb-2">Telefone</label>
                                <input type="tel" id="phone" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="(11) 99999-9999" required>
                                <div id="phone-error" class="text-red-500 text-sm mt-1 hidden">Por favor, insira um telefone válido</div>
                            </div>
                            
                            <div class="mb-4">
                                <label for="service" class="block text-gray-700 mb-2">Serviço</label>
                                <select id="service" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" required>
                                    <option value="" disabled selected>Selecione um serviço</option>
                                    <option value="corte">Corte de Cabelo</option>
                                    <option value="barba">Aparar Barba</option>
                                    <option value="combo">Corte + Barba</option>
                                    <option value="sobrancelha">Sobrancelha</option>
                                </select>
                                <div id="service-error" class="text-red-500 text-sm mt-1 hidden">Por favor, selecione um serviço</div>
                            </div>
                            
                            <div class="mb-6">
                                <label class="block text-gray-700 mb-2">Data e horário selecionados</label>
                                <div id="selected-date-time" class="bg-gray-100 p-3 rounded-lg text-center">
                                    <span class="text-gray-500">Selecione uma data e horário</span>
                                </div>
                                <div id="datetime-error" class="text-red-500 text-sm mt-1 hidden">Por favor, selecione uma data e horário</div>
                            </div>
                            
                            <button type="submit" class="w-full bg-primary text-white py-3 rounded-lg font-semibold hover:bg-blue-800 transition duration-200 flex items-center justify-center">
                                <i class="fas fa-calendar-check mr-2"></i>
                                Confirmar Agendamento
                            </button>
                        </form>
                        
                        <div class="mt-6 text-center text-sm text-gray-500">
                            <p><i class="fas fa-info-circle mr-1"></i> Você receberá uma confirmação por SMS</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-gray-800 text-white mt-12">
        <div class="container mx-auto px-4 py-8">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <div class="flex items-center">
                        <i class="fas fa-cut text-secondary text-xl mr-2"></i>
                        <span class="text-xl font-bold">Barbearia do Zeka</span>
                    </div>
                    <p class="text-gray-400 mt-2">Sempre cuidando do seu estilo</p>
                </div>
                
                <div class="text-center md:text-right">
                    <p class="text-gray-400">Rua Presidente kennedy, 123 - Vila São João</p>
                    <p class="text-gray-400">Torres - RS</p>
                    <p class="text-gray-400 mt-2">(51) 9999-9999</p>
                </div>
            </div>
            
            <div class="border-t border-gray-700 mt-6 pt-6 text-center text-gray-400">
                <p>&copy; 2025 Barbearia do Zeka. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        // Configuração inicial do calendário
        let currentDate = new Date();
        let selectedDate = null;
        let selectedTime = null;
        
        // Horários disponíveis
        const availableTimes = [
            '08:00', '09:00', '10:00', '11:00', 
            '14:00', '15:00', '16:00', '17:00'
        ];
        
        // Inicializar o calendário
        function initCalendar() {
            updateCalendar();
            updateTimeSlots();
            
            // Event listeners para navegação do calendário
            document.getElementById('prev-month').addEventListener('click', () => {
                currentDate.setMonth(currentDate.getMonth() - 1);
                updateCalendar();
            });
            
            document.getElementById('next-month').addEventListener('click', () => {
                currentDate.setMonth(currentDate.getMonth() + 1);
                updateCalendar();
            });
            
            // Event listener para o menu móvel
            document.getElementById('mobile-menu-button').addEventListener('click', () => {
                const mobileMenu = document.getElementById('mobile-menu');
                mobileMenu.classList.toggle('active');
            });
            
            // Event listener para o formulário
            document.getElementById('booking-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Validação do formulário
                if (!validateForm()) {
                    return;
                }
                
                // Simulação de envio do formulário
                const name = document.getElementById('name').value;
                const phone = document.getElementById('phone').value;
                const service = document.getElementById('service').value;
                const serviceText = document.getElementById('service').options[document.getElementById('service').selectedIndex].text;
                
                alert(`Agendamento confirmado!\n\nNome: ${name}\nTelefone: ${phone}\nServiço: ${serviceText}\nData: ${formatDate(selectedDate)} ${selectedTime}`);
                
                // Reset do formulário
                this.reset();
                selectedDate = null;
                selectedTime = null;
                updateSelectedDateTime();
                updateCalendar();
                updateTimeSlots();
                hideAllErrors();
            });
            
            // Validação em tempo real
            document.getElementById('name').addEventListener('blur', validateName);
            document.getElementById('phone').addEventListener('blur', validatePhone);
            document.getElementById('service').addEventListener('change', validateService);
        }
        
        // Validação do formulário
        function validateForm() {
            let isValid = true;
            
            if (!validateName()) isValid = false;
            if (!validatePhone()) isValid = false;
            if (!validateService()) isValid = false;
            if (!validateDateTime()) isValid = false;
            
            return isValid;
        }
        
        function validateName() {
            const name = document.getElementById('name').value.trim();
            const nameError = document.getElementById('name-error');
            
            if (name === '') {
                nameError.classList.remove('hidden');
                return false;
            } else {
                nameError.classList.add('hidden');
                return true;
            }
        }
        
        function validatePhone() {
            const phone = document.getElementById('phone').value.trim();
            const phoneError = document.getElementById('phone-error');
            const phoneRegex = /^\(?\d{2}\)?[\s-]?\d{4,5}[\s-]?\d{4}$/;
            
            if (!phoneRegex.test(phone)) {
                phoneError.classList.remove('hidden');
                return false;
            } else {
                phoneError.classList.add('hidden');
                return true;
            }
        }
        
        function validateService() {
            const service = document.getElementById('service').value;
            const serviceError = document.getElementById('service-error');
            
            if (service === '') {
                serviceError.classList.remove('hidden');
                return false;
            } else {
                serviceError.classList.add('hidden');
                return true;
            }
        }
        
        function validateDateTime() {
            const datetimeError = document.getElementById('datetime-error');
            
            if (!selectedDate || !selectedTime) {
                datetimeError.classList.remove('hidden');
                return false;
            } else {
                datetimeError.classList.add('hidden');
                return true;
            }
        }
        
        function hideAllErrors() {
            document.getElementById('name-error').classList.add('hidden');
            document.getElementById('phone-error').classList.add('hidden');
            document.getElementById('service-error').classList.add('hidden');
            document.getElementById('datetime-error').classList.add('hidden');
        }
        
        // Atualizar o calendário
        function updateCalendar() {
            const monthNames = ["Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho",
                "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"];
            
            document.getElementById('current-month').textContent = 
                `${monthNames[currentDate.getMonth()]} ${currentDate.getFullYear()}`;
            
            const calendar = document.getElementById('calendar');
            
            // Limpar dias anteriores (exceto os cabeçalhos)
            while (calendar.children.length > 7) {
                calendar.removeChild(calendar.lastChild);
            }
            
            // Primeiro dia do mês
            const firstDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);
            // Último dia do mês
            const lastDay = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);
            
            // Dias do mês anterior para preencher a primeira semana
            const prevMonthLastDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 0).getDate();
            const startingDayOfWeek = firstDay.getDay();
            
            // Dias do mês anterior
            for (let i = startingDayOfWeek - 1; i >= 0; i--) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day disabled text-center py-2 rounded-lg';
                dayElement.textContent = prevMonthLastDay - i;
                calendar.appendChild(dayElement);
            }
            
            // Dias do mês atual
            const today = new Date();
            for (let i = 1; i <= lastDay.getDate(); i++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day text-center py-2 rounded-lg cursor-pointer';
                dayElement.setAttribute('role', 'gridcell');
                
                // Verificar se é hoje
                if (i === today.getDate() && 
                    currentDate.getMonth() === today.getMonth() && 
                    currentDate.getFullYear() === today.getFullYear()) {
                    dayElement.classList.add('bg-secondary', 'text-white');
                }
                
                // Verificar se é a data selecionada
                if (selectedDate && 
                    i === selectedDate.getDate() && 
                    currentDate.getMonth() === selectedDate.getMonth() && 
                    currentDate.getFullYear() === selectedDate.getFullYear()) {
                    dayElement.classList.add('selected');
                }
                
                dayElement.textContent = i;
                
                // Adicionar evento de clique
                dayElement.addEventListener('click', () => {
                    selectedDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), i);
                    updateCalendar();
                    updateTimeSlots();
                    updateSelectedDateTime();
                    validateDateTime();
                });
                
                calendar.appendChild(dayElement);
            }
            
            // Dias do próximo mês para completar a grade
            const totalCells = 42; // 6 semanas * 7 dias
            const remainingCells = totalCells - calendar.children.length;
            
            for (let i = 1; i <= remainingCells; i++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day disabled text-center py-2 rounded-lg';
                dayElement.textContent = i;
                calendar.appendChild(dayElement);
            }
        }
        
        // Atualizar os horários disponíveis
        function updateTimeSlots() {
            const timeSlotsContainer = document.getElementById('time-slots');
            timeSlotsContainer.innerHTML = '';
            
            if (!selectedDate) {
                const message = document.createElement('div');
                message.className = 'col-span-3 text-center py-4 text-gray-500';
                message.textContent = 'Selecione uma data para ver os horários disponíveis';
                timeSlotsContainer.appendChild(message);
                return;
            }
            
            // Verificar se é uma data futura
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            const selectedDay = new Date(selectedDate);
            selectedDay.setHours(0, 0, 0, 0);
            
            if (selectedDay < today) {
                const message = document.createElement('div');
                message.className = 'col-span-3 text-center py-4 text-gray-500';
                message.textContent = 'Não é possível agendar para datas passadas';
                timeSlotsContainer.appendChild(message);
                return;
            }
            
            // Verificar se é domingo (0 = domingo)
            if (selectedDate.getDay() === 0) {
                const message = document.createElement('div');
                message.className = 'col-span-3 text-center py-4 text-gray-500';
                message.textContent = 'Não trabalhamos aos domingos';
                timeSlotsContainer.appendChild(message);
                return;
            }
            
            // Adicionar horários disponíveis
            availableTimes.forEach(time => {
                const timeElement = document.createElement('button');
                timeElement.type = 'button';
                timeElement.className = 'py-2 rounded-lg border border-gray-300 hover:bg-primary hover:text-white transition duration-200';
                
                if (selectedTime === time) {
                    timeElement.classList.add('bg-primary', 'text-white');
                }
                
                timeElement.textContent = time;
                
                timeElement.addEventListener('click', () => {
                    selectedTime = time;
                    updateTimeSlots();
                    updateSelectedDateTime();
                    validateDateTime();
                });
                
                timeSlotsContainer.appendChild(timeElement);
            });
        }
        
        // Atualizar a exibição da data e hora selecionadas
        function updateSelectedDateTime() {
            const selectedDateTimeElement = document.getElementById('selected-date-time');
            
            if (selectedDate && selectedTime) {
                const formattedDate = formatDate(selectedDate);
                selectedDateTimeElement.innerHTML = `
                    <div class="flex items-center justify-center">
                        <i class="fas fa-calendar-day text-primary mr-2"></i>
                        <span class="font-medium">${formattedDate} às ${selectedTime}</span>
                    </div>
                `;
            } else if (selectedDate) {
                const formattedDate = formatDate(selectedDate);
                selectedDateTimeElement.innerHTML = `
                    <div class="flex items-center justify-center">
                        <i class="fas fa-calendar-day text-primary mr-2"></i>
                        <span class="font-medium">${formattedDate}</span>
                        <span class="text-gray-500 ml-2">(selecione um horário)</span>
                    </div>
                `;
            } else {
                selectedDateTimeElement.innerHTML = `
                    <span class="text-gray-500">Selecione uma data e horário</span>
                `;
            }
        }
        
        // Formatar data para exibição
        function formatDate(date) {
            const day = String(date.getDate()).padStart(2, '0');
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const year = date.getFullYear();
            return `${day}/${month}/${year}`;
        }
        
        // Inicializar quando o DOM estiver carregado
        document.addEventListener('DOMContentLoaded', initCalendar);
    </script>
</body>
</html>